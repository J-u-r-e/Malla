<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Malla Curricular Diseño Gráfico</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f9f9fb;
      margin: 0;
      padding: 20px;
      color: #333;
    }
    h1 {
      text-align: center;
      color: #6a5acd;
    }
    .malla {
      display: grid;
      grid-template-columns: repeat(10, 1fr);
      gap: 10px;
      margin-top: 20px;
    }
    .semestre {
      background-color: #e6f4ea;
      border-radius: 10px;
      padding: 10px;
    }
    .semestre h2 {
      font-size: 1rem;
      text-align: center;
      background-color: #dcd0ff;
      border-radius: 6px;
      padding: 5px;
    }
    .curso {
      margin: 5px 0;
      padding: 8px;
      background-color: #ffffff;
      border: 2px solid #dcd0ff;
      border-radius: 6px;
      cursor: pointer;
      text-align: center;
      font-size: 0.9rem;
    }
    .bloqueado {
      background-color: #f0f0f0;
      border-color: #ccc;
      color: #aaa;
      cursor: not-allowed;
      position: relative;
    }
    .bloqueado:hover::after {
      content: attr(data-tooltip);
      position: absolute;
      top: 100%;
      left: 0;
      background: #333;
      color: #fff;
      padding: 5px 10px;
      border-radius: 5px;
      white-space: nowrap;
      font-size: 0.8rem;
      margin-top: 5px;
      z-index: 10;
    }
    .aprobado {
      background-color: #b4f8c8;
      border-color: #7de6a3;
      color: #333;
    }
  </style>
</head>
<body>
  <h1>Malla Curricular Diseño Gráfico</h1>
  <div class="malla" id="malla"></div>

  <script>
    const cursos = [
      // Primer año
      { nombre: "Humanidades 1", semestre: 1, abre: ["Humanidades 2"] },
      { nombre: "Actividad cultural", semestre: 1 },
      { nombre: "Actividad deportiva", semestre: 1 },
      { nombre: "Diseño I", semestre: 1, abre: ["Diseño II"] },
      { nombre: "Dibujo I", semestre: 1, abre: ["Dibujo II"] },
      { nombre: "Taller de pigmentos", semestre: 1, abre: ["Taller Gráfico I"] },
      { nombre: "Taller de arcilla", semestre: 1 },
      { nombre: "Humanidades 2", semestre: 2, req: ["Humanidades 1"], abre: ["Seminario Realidad Nacional 1"] },
      { nombre: "Teoría del arte", semestre: 2, abre: ["Semiosis de la producción"] },
      { nombre: "Diseño II", semestre: 2, req: ["Diseño I"], abre: ["Diseño III"] },
      { nombre: "Dibujo II", semestre: 2, req: ["Dibujo I"], abre: ["Dibujo III"] },
      { nombre: "Taller de madera", semestre: 2 },
      { nombre: "Taller de papel y textil", semestre: 2, abre: ["Sistemas de Reproducción I"] },

      // Segundo año
      { nombre: "Introducción al arte 1", semestre: 3, abre: ["Introducción al arte 2"] },
      { nombre: "Introducción a la Antropología", semestre: 3 },
      { nombre: "Diseño III", semestre: 3, req: ["Diseño II"], abre: ["Diseño IV"] },
      { nombre: "Dibujo III", semestre: 3, req: ["Dibujo II"], abre: ["Dibujo IV"] },
      { nombre: "Taller de vidrio y plástico", semestre: 3 },
      { nombre: "Taller de metal", semestre: 3 },
      { nombre: "Introducción al arte 2", semestre: 4, req: ["Introducción al arte 1"], abre: ["Arte Costarricense", "Historia del Diseño Gráfico"] },
      { nombre: "Semiosis de la producción", semestre: 4, req: ["Teoría del arte"] },
      { nombre: "Repertorio", semestre: 4 },
      { nombre: "Diseño IV", semestre: 4, req: ["Diseño III"], abre: ["Diseño Gráfico I", "Fotografía I"] },
      { nombre: "Dibujo IV", semestre: 4, req: ["Dibujo III"], abre: ["Dibujo optativo I", "Dibujo optativo II", "Dibujo optativo III", "Taller optativo I", "Taller optativo II", "Taller Gráfico I"] },
      { nombre: "Taller de iluminación", semestre: 4, abre: ["Fotografía I"] },
      { nombre: "Taller de piedra", semestre: 4 },

      // Tercer año
      { nombre: "Arte Costarricense", semestre: 5 },
      { nombre: "Dibujo optativo I", semestre: 5 },
      { nombre: "Diseño Gráfico I", semestre: 5, req: ["Diseño IV"], abre: ["Diseño Gráfico II"] },
      { nombre: "Taller Gráfico I", semestre: 5, req: ["Dibujo IV", "Taller de pigmentos"], abre: ["Taller Gráfico II"] },
      { nombre: "Fotografía I", semestre: 5, req: ["Diseño IV", "Taller de iluminación"], abre: ["Fotografía II"] },
      { nombre: "Medios Digitales I", semestre: 5, abre: ["Medios Digitales II"] },
      { nombre: "Sistemas de Reproducción I", semestre: 5, req: ["Taller de papel y textil"], abre: ["Sistemas de Reproducción II"] },
      { nombre: "Historia del Diseño Gráfico", semestre: 6 },
      { nombre: "Seminario de Realidad Nacional 1", semestre: 6, req: ["Humanidades 2"], abre: ["Seminario de Realidad Nacional 2"] },
      { nombre: "Diseño Gráfico II", semestre: 6, req: ["Diseño Gráfico I"], abre: ["Diseño Gráfico III"] },
      { nombre: "Taller Gráfico II", semestre: 6, req: ["Taller Gráfico I"], abre: ["Taller Gráfico III"] },
      { nombre: "Fotografía II", semestre: 6, req: ["Fotografía I"], abre: ["Fotografía III"] },
      { nombre: "Medios Digitales II", semestre: 6, req: ["Medios Digitales I"], abre: ["Medios Digitales III"] },
      { nombre: "Sistemas de Reproducción II", semestre: 6, req: ["Sistemas de Reproducción I"], abre: ["Sistemas de Reproducción III"] },

      // Cuarto año
      { nombre: "Historia del arte optativa I", semestre: 7 },
      { nombre: "Idioma", semestre: 7 },
      { nombre: "Diseño Gráfico III", semestre: 7, req: ["Diseño Gráfico II"], abre: ["Diseño Interactivo"] },
      { nombre: "Taller Gráfico III", semestre: 7, req: ["Taller Gráfico II"], abre: ["Diseño Interactivo"] },
      { nombre: "Fotografía III", semestre: 7, req: ["Fotografía II"] },
      { nombre: "Medios Digitales III", semestre: 7, req: ["Medios Digitales II"] },
      { nombre: "Sistemas de Reproducción III", semestre: 7, req: ["Sistemas de Reproducción II"], abre: ["Diseño Interactivo"] },
      { nombre: "Historia del arte optativa II", semestre: 8 },
      { nombre: "Seminario de Realidad Nacional 2", semestre: 8, req: ["Seminario de Realidad Nacional 1"] },
      { nombre: "Taller Optativo I", semestre: 8 },
      { nombre: "Taller Optativo II", semestre: 8 },
      { nombre: "Dibujo optativo II", semestre: 8 },
      { nombre: "Dibujo optativo III", semestre: 8 },
      { nombre: "Diseño Interactivo", semestre: 8, req: ["Diseño Gráfico III", "Taller Gráfico III", "Sistemas de Reproducción III"], abre: ["Taller especializado I"] },

      // Quinto año
      { nombre: "Taller Optativo III", semestre: 9 },
      { nombre: "Taller Optativo IV", semestre: 9 },
      { nombre: "Taller Optativo V", semestre: 9 },
      { nombre: "Técnicas de Investigación", semestre: 9 },
      { nombre: "Taller especializado I", semestre: 9, req: ["Diseño Interactivo"], abre: ["Taller especializado II"] },
      { nombre: "Taller Optativo VI", semestre: 10 },
      { nombre: "Taller Optativo VII", semestre: 10 },
      { nombre: "Adm. De las artes", semestre: 10 },
      { nombre: "Taller especializado II", semestre: 10, req: ["Taller especializado I"] }
    ];

    function crearMalla() {
      const malla = document.getElementById("malla");
      const totalSemestres = 10;

      for (let i = 1; i <= totalSemestres; i++) {
        const col = document.createElement("div");
        col.className = "semestre";
        col.innerHTML = `<h2>${i} Semestre</h2>`;

        cursos.filter(c => c.semestre === i).forEach(curso => {
          const div = document.createElement("div");
          div.className = "curso";
          div.textContent = curso.nombre;
          div.dataset.nombre = curso.nombre;
          if (!esDesbloqueado(curso)) {
            div.classList.add("bloqueado");
            div.dataset.tooltip = "Requiere: " + (curso.req || []).join(", ");
          }
          if (localStorage.getItem(curso.nombre)) {
            div.classList.add("aprobado");
          }
          div.addEventListener("click", () => toggleCurso(div, curso));
          col.appendChild(div);
        });

        malla.appendChild(col);
      }
    }

    function esDesbloqueado(curso) {
      if (!curso.req) return true;
      return curso.req.every(r => localStorage.getItem(r));
    }

    function toggleCurso(elemento, curso) {
      if (elemento.classList.contains("bloqueado")) return;
      const aprobado = elemento.classList.toggle("aprobado");
      if (aprobado) {
        localStorage.setItem(curso.nombre, true);
      } else {
        localStorage.removeItem(curso.nombre);
      }
      location.reload();
    }

    crearMalla();
  </script>
</body>
</html>
